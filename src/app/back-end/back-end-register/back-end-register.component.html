<div class="wrapper d-flex flex-column min-vh-100">
    <div class="d-flex flex-grow-1">
      <app-back-end-navbar></app-back-end-navbar>
  
      <div class="content-wrapper flex-grow-1 d-flex flex-column p-4">
        <app-back-end-header></app-back-end-header>
  
        <div class="container">
          <h2 class="mb-4">Register</h2>
          <form (ngSubmit)="registerUser()" class="needs-validation" novalidate>
            <div class="mb-3">
              <label for="username" class="form-label">Username</label>
              <input
                type="text"
                id="username"
                [(ngModel)]="username"
                name="username"
                class="form-control"
                required
                minlength="3"
                maxlength="20"
              />
              <div class="invalid-feedback">Please provide a valid username.</div>
            </div>
  
            <div class="mb-3">
              <label for="password" class="form-label">Password</label>
              <input
                type="password"
                id="password"
                [(ngModel)]="password"
                name="password"
                class="form-control"
                required
                minlength="6"
                maxlength="20"
              />
              <div class="invalid-feedback">Password must be at least 6 characters long.</div>
            </div>
  
            <div class="mb-4">
              <label for="profil_url" class="form-label">Profile Image</label>
              <input
                type="file"
                id="profil_url"
                (change)="onFileSelected($event)"
                class="form-control"
                required
              />
              <img
                *ngIf="imagePreview"
                [src]="imagePreview"
                alt="Image Preview"
                class="img-thumbnail mt-2"
                style="max-width: 200px;"
              />
              <div class="invalid-feedback">Please upload a profile image.</div>
            </div>
  
            <button type="submit" class="btn btn-primary">Register</button>
          </form>
  
          <div *ngIf="errorMessage" class="alert alert-danger mt-3">{{ errorMessage }}</div>
  
          <!-- Success Modal -->
          <div
            class="modal fade"
            id="successModal"
            tabindex="-1"
            aria-labelledby="successModalLabel"
            aria-hidden="true"
          >
            <div class="modal-dialog modal-dialog-centered">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="successModalLabel">Registration Successful</h5>
                  <button type="button" class="btn-close" (click)="closeModal()" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                  Your account has been created successfully!
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" (click)="goToProfile()">Go to Profile</button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <app-back-end-footer></app-back-end-footer>
      </div>
    </div>
  </div>
  